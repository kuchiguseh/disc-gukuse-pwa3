<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DISC別口ぐせ診断</title>
  <meta name="theme-color" content="#e85a8b" />
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="app-header">
    <div class="logo">🌸 DISC別口ぐせ診断</div>
  </header>

  <main>
    <section id="home" class="card">
      <h1>あなたらしさを見つける、やさしい診断</h1>
      <p>10問に答えるだけで、あなたのタイプと“今のあなたに合う言葉”がわかります。</p>
      <button id="start-btn" class="primary">診断をはじめる</button>
      <div id="recent-section" class="recent hidden">
        <h2>最近の結果</h2>
        <ul id="recent-list"></ul>
        <button id="export-csv" class="ghost">履歴をCSVで書き出し</button>
      </div>
    </section>

    <section id="quiz" class="card hidden">
      <div class="progress"><div id="progress-bar"></"></div></div>
      <h2 id="q-title"></h2>
      <p id="q-count" class="hint"></p>
      <div id="choices" class="choices"></div>
      <div class="actions">
        <button id="prev-btn" class="ghost">戻る</button>
      </div>
    </section>

    <section id="result" class="card hidden">
      <div id="result-stats"></div>
      <div id="result-content" style="margin-top:12px;"></div>
      <div id="prev-result" class="card hidden" style="margin-top:12px;background:#fff7fb;">
        <h3>前回の結果</h3>
        <div id="prev-result-content"></div>
      </div>
      <div class="share">
        <button id="share-btn" class="secondary">SNSでシェア</button>
        <button id="download-result" class="ghost">結果を保存（PNG）</button>
      </div>
    </section>
  </main>

  <footer class="app-footer">© MBWC</footer>

  <script id="APP_DATA" type="application/json">
  {
    "questions": [
      {"q":"週末の予定が急に空きました。どうしますか？","choices":["新しいことに挑戦してみる","誰かを誘って出かける","家でのんびり過ごす","部屋の片付けや整理をする"]},
      {"q":"新しいカフェがオープンしました。あなたは？","choices":["すぐに行ってみる","SNSでシェアして友達を誘う","人の口コミを聞いてから行く","メニューや評判を調べてから行く"]},
      {"q":"友達が落ち込んでいます。あなたの一言は？","choices":["「元気出して！行動すれば変わるよ」","「一緒に楽しいことしよう！」","「無理しなくていいよ、そばにいるから」","「何があったのか詳しく教えて？」"]},
      {"q":"家族旅行の計画を立てる時、あなたは？","choices":["行きたい場所をどんどん提案する","みんなが楽しめるアクティビティを探す","全員の予定を優先して日程を決める","宿や交通手段をしっかり比較して決める"]},
      {"q":"新しい美容法を知りました。あなたは？","choices":["すぐに試してみる","友達にも紹介して一緒に試す","安全そうか確認してから始める","成分や効果を調べてから実行"]},
      {"q":"大事なイベント当日、雨になりました。あなたは？","choices":["「予定変更！別の案でいこう！」","「雨でも楽しめる方法を見つけよう」","「まあ、こんな日もあるよね」","「次は天気予報をもっと見ておこう」"]},
      {"q":"お気に入りの服にシミをつけてしまった！","choices":["「すぐに手を打てば大丈夫！」","「これをきっかけに新しい服探そう」","「まあ、時間をかけてケアしよう」","「原因を分析して今後防ごう」"]},
      {"q":"友人との約束がキャンセルに。あなたは？","choices":["別の予定を入れて時間を有効活用","他の友達を誘って楽しく過ごす","家でゆっくりしてリフレッシュ","次回の予定を早めに調整しておく"]},
      {"q":"プレゼントを贈る時、あなたは？","choices":["相手が驚くようなインパクト重視","会話の中で欲しそうにしていた物を選ぶ","喜んでもらえる無難なものを選ぶ","事前に相手の好みやサイズをリサーチ"]},
      {"q":"新しい趣味を始めようと思います。あなたは？","choices":["とにかく体験してみる","仲間を見つけて一緒に始める","生活のリズムに合うか考えてから","必要な道具や費用を調べてから"]}
    ],
    "map": ["D","I","S","C"],
    "prescriptions": {
      "D": {
        "title": "🌹 行動派のあなた",
        "copy": "自信は魅力。その強さに思いやりを少し足せば、信頼はさらに深まる。",
        "top": ["よし、やってみよう！","今がチャンス！","協力こそ最速の方法"],
        "humor": "あなたが動くと空気が“やる気色”に変わります☀️",
        "rephrase": [
          "「こうして！」 → 「こうしてもらえると助かります」",
          "「早くして」 → 「○時までにお願いできますか？」",
          "「それ違う」 → 「こうすると、もっと良くなります」"
        ],
        "self": "私は一人でやらなくていい",
        "self_extra": ["人の力を借りても成果は出せる","協力こそ最速の方法"],
        "scripts": [
          {"tag":"相談","text":"実現するには何が必要か、一緒に考えませんか？"},
          {"tag":"お願い","text":"これを○時までにお願いできると助かります"}
        ]
      },
      "I": {
        "title": "💐 社交派のあなた",
        "copy": "その明るさを、安心と行動の後押しに変えて届けよう。",
        "top": ["楽しみだね！","それ素敵！","こうすればうまくいく！"],
        "humor": "あなたは周りをポジティブに染める“ひまわり”です🌻",
        "rephrase": [
          "「たぶん大丈夫」 → 「○○すれば、きっと大丈夫！」",
          "「とにかくやってみよう！」 → 「まず準備してから、やってみよう！」",
          "「なんとかなる」 → 「工夫すれば、できるよ！」"
        ],
        "self": "私は焦らなくても魅力的",
        "self_extra": ["根拠を添えると、もっと伝わる","明るさは“準備”とセットで輝く"],
        "scripts": [
          {"tag":"相談","text":"こうすればうまくいくと思うんだけど、どうかな？"},
          {"tag":"お願い","text":"○○を用意してから、お願いできる？"}
        ]
      },
      "C": {
        "title": "🌼 こだわり派のあなた",
        "copy": "正確さは強み。その安心感を育てる言葉に変えていこう。",
        "top": ["ちゃんと確認しよう","段取りが大事","美しく仕上げたい"],
        "humor": "あなたの丁寧さは四つ葉のクローバーみたいな宝物です🍀",
        "rephrase": [
          "「それは違います」 → 「こういう見方もあります」",
          "「ルールでは…」 → 「ルールでは○○ですが、どうしましょうか？」",
          "「間違ってます」 → 「ここをこう直すと、正しくなります」"
        ],
        "self": "私は完璧でなくても価値がある",
        "self_extra": ["正しさより関係性が大事な時もある","事実と意見は分けて伝えられる"],
        "scripts": [
          {"tag":"相談","text":"ここは、こういう方法もあるのですが、どう思われますか？"},
          {"tag":"お願い","text":"この手順でやってもらえると助かります"}
        ]
      },
      "S": {
        "title": "🌷 思いやり派のあなた",
        "copy": "その優しさは強さ。自分にも同じ温かさを向けよう。",
        "top": ["大丈夫？","いつもありがとう","無理しないでね"],
        "humor": "あなたの言葉はホットミルクみたいにじんわり温まります☕️",
        "rephrase": [
          "「ごめんなさい」 → 「ありがとう」",
          "「私なんて…」 → 「私にもできる」",
          "「迷惑かけちゃうかも」 → 「助けてもらえて、うれしい」"
        ],
        "self": "私はまわりに安心を届けられる",
        "self_extra": ["「私は」を主語に、そっと伝える","休むことも大事な一歩"],
        "scripts": [
          {"tag":"相談","text":"ありがとうございます。少しご相談させてください"},
          {"tag":"お願い","text":"お願いできると心強いです"}
        ]
      }
    }
  }
  </script>

  <script src="app.js"></script>
</body>
</html>
